@charset "utf-8";

// ============================================
// Breakpoints (Map 기반)
// ============================================
// 반응형 디자인을 위한 breakpoint 값과 mixin
// Map 기반 구조로 간결하고 확장 가능한 설계

// ============================================
// Breakpoint Map
// ============================================
// Bootstrap 5 표준과 일치하는 breakpoint 설정
$bp: (
    "xxs": 320px,   // 최소 모바일
    "xs": 360px,    // 소형 모바일
    "sm": 576px,    // 기준 모바일
    "md": 768px,    // 대형 모바일/태블릿
    "lg": 992px,    // 태블릿/소형 데스크톱
    "xl": 1200px,   // 데스크톱
    "xxl": 1400px   // 대형 데스크톱
);

// Semantic Breakpoint Map (직관적인 이름)
// 기술적 키("sm", "md" 등)와 semantic 키("mobile", "desktop" 등) 모두 지원
$bp-semantic: (
    "mobile-xs": "xxs",
    "mobile-sm": "xs",
    "mobile": "sm",
    "mobile-lg": "md",
    "desktop": "lg",
    "desktop-lg": "xl",
    "desktop-xl": "xxl"
);

// ============================================
// Core Mixins (Map 기반)
// ============================================

// 위로 (min-width) - Mobile First
@mixin up($key) {
    // Semantic 키를 먼저 확인
    $semantic-key: map-get($bp-semantic, $key);
    $final-key: $key;
    
    @if $semantic-key {
        $final-key: $semantic-key;
    }
    
    $value: map-get($bp, $final-key);

    @if $value {
        @media (min-width: $value) {
            @content;
        }
    }

    @else {
        @warn "Unknown breakpoint: #{$key}";
    }
}

// 아래로 (max-width) - Desktop First
@mixin down($key) {
    // Semantic 키를 먼저 확인
    $semantic-key: map-get($bp-semantic, $key);
    $final-key: $key;
    
    @if $semantic-key {
        $final-key: $semantic-key;
    }
    
    $value: map-get($bp, $final-key);

    @if $value {
        @media (max-width: calc($value - 0.02px)) {
            @content;
        }
    }

    @else {
        @warn "Unknown breakpoint: #{$key}";
    }
}

// 범위 (between) - 특정 범위 지정
@mixin between($min, $max) {
    // Semantic 키를 먼저 확인
    $min-semantic: map-get($bp-semantic, $min);
    $max-semantic: map-get($bp-semantic, $max);
    $min-final: $min;
    $max-final: $max;
    
    @if $min-semantic {
        $min-final: $min-semantic;
    }
    
    @if $max-semantic {
        $max-final: $max-semantic;
    }
    
    $min-value: map-get($bp, $min-final);
    $max-value: map-get($bp, $max-final);

    @if $min-value and $max-value {
        @media (min-width: $min-value) and (max-width: calc($max-value - 0.02px)) {
            @content;
        }
    }

    @else {
        @warn "Unknown breakpoint: min=#{$min}, max=#{$max}";
    }
}

// ============================================
// 하위 호환성을 위한 기존 변수 (선택적 사용)
// ============================================
// 기존 코드와의 호환성을 위해 유지
// 권장: 새 코드는 Map 기반 mixin 사용

// $mobile-xxs: map-get($bp, "xxs");
$mobile-xs: map-get($bp, "xxs");
$mobile-sm: map-get($bp, "xs");
$mobile: map-get($bp, "sm"); // 576px (기존 코드 호환성)
$mobile-lg: map-get($bp, "md");
$desktop: map-get($bp, "lg");
$desktop-lg: map-get($bp, "xl");
$desktop-xl: map-get($bp, "xxl");

// ============================================
// 하위 호환성을 위한 기존 Mixins (선택적 사용)
// ============================================
// 기존 코드와의 호환성을 위해 유지
// 권장: 새 코드는 Map 기반 mixin 사용

// Max-width Mixins (Desktop First)
@mixin mobile-xs {
    @include down("xxs") {
        @content;
    }
}

@mixin mobile-sm {
    @include down("xs") {
        @content;
    }
}

@mixin mobile {
    @include down("sm") {
        @content;
    }
}

@mixin desktop {
    @include down("lg") {
        @content;
    }
}

@mixin desktop-lg {
    @include down("xl") {
        @content;
    }
}

@mixin desktop-xl {
    @include down("xxl") {
        @content;
    }
}

// Min-width Mixins (Mobile First)
@mixin from-mobile-xs {
    @include up("xxs") {
        @content;
    }
}

@mixin from-mobile-sm {
    @include up("xs") {
        @content;
    }
}

@mixin from-mobile {
    @include up("sm") {
        @content;
    }
}

@mixin from-desktop {
    @include up("lg") {
        @content;
    }
}

@mixin from-desktop-lg {
    @include up("xl") {
        @content;
    }
}

@mixin from-desktop-xl {
    @include up("xxl") {
        @content;
    }
}